# JPA vs MyBatis

# 🔗 참고자료

---

- Tecoble - Spring Boot에 QueryDSL을 사용해보자 ⇒ [**링크**](https://tecoble.techcourse.co.kr/post/2021-08-08-basic-querydsl/)
- NHN Cloud - MyBatis에서 JPA로 ⇒ [**링크**](https://www.youtube.com/watch?v=XQZY0yN9gz0)

# ✏공부 내용 정리

---

## JPA vs MyBatis

마이바티스는 SQL문과 프로그래밍 코드가 분리 되어 있고 SQL 중심의 개발을 하게 된다

반면에 JPA는 ORM 기술을 통해 자바 코드를 통해 테이블 매핑이 가능하고 코드 중심으로 개발이 가능하다.

## 마이바티스(MyBatis)의 장점과 단점

### 장점

- 마이바티스는 SQL문을 XML 파일로 정리하면서 자바 코드가 보다 단순하다.
- 다른 프레임워크들에 비해 간단하다.
- 소스 코드와 SQL의 분리로 생산성이 높고 작업 분배가 다소 편하다.
    - DBA와의 협업(작업 분배)
- JDBC를 좀 더 편하게 사용할 수 있도록 객체를 SQL이나 저장 프로시저와 매핑해준다.
  ⇒ SQL Mapper
- XML 파일에 작성된 SQL문을 직접 다룰 수 있다.
    - 복잡한 쿼리 작성 가능

### 단점

- CRUD와 같은 반복적인 쿼리문도 직접 작성 및 수정해야 한다.
- 개발이 비즈니스 로직 보다는 쿼리문에 집중된 개발을 하게 된다.
- SQL과 데이터베이스 벤더에 대한 종속성
    - DB 변경 시 해당 DB에 맞는 SQL문법으로 수정해줘야 한다.
    - 특정 DB에 종속적이다.

## JPA의 장점과 단점

### 장점

- 생산성
    - CRUD의 반복적인 쿼리 문을 직접 작성하는 소요가 줄어든다.
    - CRUD 메소드 기본 제공
- 유지보수
    - 칼럼 추가/삭제 시 직접 관련된 CRUD 쿼리를 모두 수정하는 대신 JPA가 관리하는 모델(Entity)을 수정하면 된다.
- 데이터 접근 추상화와 벤더 독립성
    - 데이터베이스 벤더마다 미묘하게 다른 데이터 타입이나 SQL을 JPA을 이용하면 손쉽게 해결할 수 있다.
- SQL 중심적인 개발에서 객체 중심으로 개발
    - JPA는 객체와 관계형 데이터베이스 사이의 패러다임의 불일치로 발생하는 문제를 해결
      ex) 관계형 데이터베이스는 데이터 중심으로 추상화, 상속 다형성 같은 개념이 없다.

### 단점

- 러닝 커브가 높다.
    - 규모가 커질수록 연간관계 매핑이 까다로워지고 복잡해진다.
- 복잡한 쿼리문을 작성 할 때는 ‘JPQL’ 이나 ‘QueryDSL’ 같은 추가적인 기술을 사용해야 한다.
    - JPQL은 문자열로 작성하기 때문에 오타가 있으면 런타임 시점에서 에러가 발생한다.
    - QueryDSL은 프레임워크을 사용하기 위해서는 다소 번거로운 Gradle 설정 및 사용법을 익혀야 한다.
- 실행되는 SQL문이 추상화 되어있고, 잘못 사용하면 성능에 마이너스가 된다.

  ex) 반복문 안에 save() 와  saveAll()의 성능 차이를 모르고 사용하는 경우 등등


## 궁금한 점

- JPA의 캐시와 MyBatis의 캐시에 대해서 궁금하다.\
    - MyBatis 캐시에 대해 알아보기(1) ⇒ [**링크**](https://idea-sketch.tistory.com/30)
    - [JPA] 트랜잭션과 락, 2차 캐시⇒ **[링크](https://steady-coding.tistory.com/607)**