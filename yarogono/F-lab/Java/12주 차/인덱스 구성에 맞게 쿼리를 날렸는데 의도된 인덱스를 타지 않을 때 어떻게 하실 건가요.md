# 🔗 참고자료

---

- chatGPT

# ✏공부 내용 정리

---

## 인덱스 구성에 맞게 쿼리를 날렸는데 의도된 인덱스를 타지 않을 때 어떻게 하실 건가요?

1. 쿼리 실행 계획 확인
    - 실행 계획을 확인해 어떤 인덱스가 사용되는지, 그리고 해당 인덱스가 적절한지 여부 확인
2. 인덱스 분석
    - 실행 계획에서 사용되는 인덱스를 분석하여 해당 인덱스가 쿼리를 최적화하는 데 충분한 데이터를 제공하는지 확인
    - 인덱스가 충분한 데이터를 제공하지 않는다면 인덱스를 수정하거나 다른 인덱스를 고려
3. 통계 업데이트
    - 데이터베이스에서 통계 정보를 업데이트
        - 최신 상태의 통계 정보를 사용하여 쿼리 실행 계획을 만들 수 있다.
          이는 올바른 인덳르르 선택하는 데 도움이 된다.
4. 인덱스 재구성
    - 인덱스를 재구성하여 데이터베이스의 물리적인 불일치를 제거할 수 있다.
        - 이를 통해 인덱스를 더 효율적으로 사용할 수 있게 되어 쿼리의 성능이 개선될 수 있다.
5. 쿼리 재작성
    - 쿼리를 다시 작성하여 최적화된 쿼리 실행 계획을 생성할 수 있도록 한다.
        - 이는 효율적인 쿼리 실행에 도움이 될 수 있다.
6. 인덱스 추가
    - 필요에 따라 새로운 인덱스를 추가하여 쿼리를 최적화 할 수 있다.
      그러나 이는 데이터베이스에 더 많은 공간을 차지하며, 데이터 삽입/수정/삭제 작업에 대한 오버헤드를 초래할 수 있다. ⇒ 신중하게 고려 필요

## ❓인덱스 분석을 하는 방법은?

1. 인덱스 선택
    - 분석할 인덱스를 선택한다.
    - 일반적으로 데이터베이스 시스템에서는 실행 계획에서 사용될 인덱스를 자동으로 선택한다.
2. 인덱스 크기 분석
    - 선택한 인덱스의 크기를 분석
    - 인덱스 크기가 너무 커서 메모리 부족 문제가 발생할 수 있거나,
      너무 작아서 인덱스 생성 후의 성능 향상이 미미할 수 있다.
3. 인덱스 구조 분석
    - 인덱스 구조가 어떻게 구성되어 있는지, B-Tree 인덱스인지 아니면 Hash 인덱스인지, 인덱스의 높이가 얼마나 되는지 등을 확인한다.
4. 인덱스 키 분석
    - 인덱스의 키가 어떤 형식으로 구성되어 있는지, 인덱스의 키의 유니크 여부, 인덱스 키의 데이터 타입, NULL  값을 허용하는지 여부 등을 확인
5. 인덱스와 관련된 테이블의 통계 정보 분석
    - 인덱스와 관련된 테이블의 데이터 분포와 특성을 파악하여 인덱스가 쿼리 최적화에 유용한지 여부를 결정한다.
6. 인덱스 성능 분석
    - 인덱스를 사용한 쿼리의 실행 시간, 인덱스 누락으로 인한 쿼리 실행 시간 증가, 인덱스 스캔 횟수 등을 분석하여 인덱스가 쿼리 최적화에 적합한지 여부를 판단한다.

## 궁금한 점

- 통계 정보란? ⇒ [**링크**](https://velog.io/@emawlrdl/MySQL-%ED%86%B5%EA%B3%84%EC%A0%95%EB%B3%B4)
- 통계 업데이트란?