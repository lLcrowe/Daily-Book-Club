# 🔗 참고자료

---

- chatGPT

# ✏공부 내용 정리

---

![image (1).png](https://file.notion.so/f/s/1ad4b569-8c29-4b40-a557-a1cf7beff0e9/image_(1).png?id=ea854d0a-fbb6-42d8-948e-1a5d2d9e63a8&table=block&spaceId=a6996cfb-7419-48fb-9ad1-d4bdae0c3162&expirationTimestamp=1680873883474&signature=jQgXxKwWv6GXbtsZTRbF6uEHjnj1wbNMJ_-NamScWnw&downloadName=image+%281%29.png)

## JPA 1차 캐시

- JPA에서는 영속성 컨텍스트를 통해 1차 캐시를 제공
- 1차 캐시는 영속성 컨텍스트에 의해 관리되는 엔티티들의 상태 정보를 저장합니다.
    - 이 정보는 캐시에 저장되기 때문에, 다음에 같은 엔티티가 조회될 때는 DB에서 조회하는 것이 아니라 1차 캐시에서 바로 조회하게 됩니다.
      ⇒ 이를 통해 DB 접근 횟수를 줄일 수 있으며, 성능 향상에 큰 도움을 줍니다.
- 1차 캐시는 트랜잭션 범위 내에서만 유효합니다.
    - 따라서 영속성 컨텍스트가 종료되면 1차 캐시도 함께 사라지게 됩니다.
      ⇒ 같은 엔티티를 다시 조회하면 다시 DB에서 조회해야 한다.
    - 위와 같은 한계 대문에 JPA는 2차 캐시를 제공합니다.

## JPA 2차 캐시

- 영속성 컨텍스트와는 별도로 동작하는 캐시
- 여러 트랜잭션에서 공유될 수 있다.
    - 따라서, 같은 엔티티를 여러 번 조회하더라도, 1차 캐시에서 조회되지 않을 때는 2차 캐시에서 조회하게 됩니다.
      ⇒ 이를 통해 DB 접근을 피하고 캐시를 효과적으로 사용할 수 있다.
- 2차 캐시는 JPA 구현체마다 다르게 동작합니다.
    - 대부분의 JPA 구현체에서는 Ehcache, Infinispan, Redis 등 다양한 캐시 구현체를 지원하며,
      이를 설정하여 사용 할 수 있습니다.